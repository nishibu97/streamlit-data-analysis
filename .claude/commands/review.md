# コードレビューチェックリスト

## 基本項目

### コーディング規約
- [ ] PEP 8 に準拠している
- [ ] 変数名・関数名が適切（日本語プロジェクトなので英語名を使用）
- [ ] 適切なインデントとスペースが使用されている
- [ ] 行の長さが80文字以内（可能な限り）

### ドキュメンテーション
- [ ] 関数・クラスに docstring が記載されている
- [ ] 複雑なロジックにコメントが追加されている
- [ ] 型ヒントが適切に使用されている
- [ ] README や関連ドキュメントが更新されている

### パフォーマンス
- [ ] 不要な計算やループが除去されている
- [ ] Streamlit のキャッシュ機能が適切に使用されている
- [ ] メモリリークの可能性がない
- [ ] データベースクエリが最適化されている

## Streamlit 特有項目

### セッション状態
- [ ] `st.session_state` の使用が適切
- [ ] 状態の初期化が正しく行われている
- [ ] 不要な状態変数が残っていない
- [ ] セッション間での状態漏れがない

### UI/UX
- [ ] レイアウトが適切（サイドバー、カラム等）
- [ ] エラーメッセージがユーザーフレンドリー
- [ ] ローディング状態が適切に表示される
- [ ] レスポンシブデザインに配慮されている

### キャッシュとパフォーマンス
- [ ] `@st.cache_data` が適切に使用されている
- [ ] 重い処理にプログレスバーが表示される
- [ ] 不必要な再実行が回避されている
- [ ] データの前処理が効率的

## セキュリティ

### データ保護
- [ ] 機密情報がハードコードされていない
- [ ] ユーザー入力の検証が適切
- [ ] SQLインジェクション対策が実装されている
- [ ] ファイルアップロード時の検証が適切

### アクセス制御
- [ ] 認証・認可が適切に実装されている
- [ ] セッション管理が安全
- [ ] CSRF対策が実装されている（必要に応じて）

## テスト

### テストカバレッジ
- [ ] 主要な機能にテストが実装されている
- [ ] エッジケースがテストされている
- [ ] モックやスタブが適切に使用されている
- [ ] テストが独立して実行可能

### テスト品質
- [ ] テストケース名が明確
- [ ] アサーションが適切
- [ ] テストデータが適切に管理されている
- [ ] 統合テストと単体テストのバランスが良い

## エラーハンドリング

### 例外処理
- [ ] 適切な例外処理が実装されている
- [ ] エラーメッセージが分かりやすい
- [ ] ログ出力が適切
- [ ] 予期しないエラーに対する対策がある

### データ検証
- [ ] 入力データの検証が実装されている
- [ ] 空値やNullの処理が適切
- [ ] データ型の変換が安全
- [ ] ファイル形式の検証が実装されている

## 保守性

### コード構造
- [ ] 関数・クラスが適切なサイズ
- [ ] 単一責任の原則が守られている
- [ ] 依存関係が明確
- [ ] 再利用可能な設計になっている

### 設定管理
- [ ] 設定値が適切に外部化されている
- [ ] 環境別の設定が管理されている
- [ ] 機密情報が環境変数で管理されている

## 最終チェック

### 動作確認
- [ ] 基本機能が正常に動作する
- [ ] エラーケースでも適切に動作する
- [ ] パフォーマンスが許容範囲内
- [ ] 各ブラウザで動作確認済み

### ドキュメント
- [ ] 変更内容がドキュメントに反映されている
- [ ] APIドキュメントが更新されている
- [ ] 使用方法が明確に記載されている
- [ ] トラブルシューティング情報が充実している